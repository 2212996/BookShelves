{"ast":null,"code":"import { vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  id: \"app\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.keyword = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.keyword]]), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = $event => $options.Saerch($data.keyword))\n  }, \"検索\")]);\n}","map":{"version":3,"names":["id","_createElementBlock","_hoisted_1","_createElementVNode","type","_cache","$event","$data","keyword","onClick","$options","Saerch"],"sources":["/Users/tsutsuitomoya/Documents/GitHub/BookShelves/BookShelves/frontend/src/components/test.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <input type=\"text\" v-model=\"keyword\" />\n    <button @click=\"Saerch(keyword)\">検索</button>\n  </div>\n</template>\n<script>\nexport default{\n  el: \"#app\",\n  data() {\n    return {\n      keyword: \"\",\n      saerchResults: [],\n    };\n  },\n  methods: {\n    //クエリストリングの作成\n    async Saerch(keyword) {\n      this.saerchResults = []\n      const baseUrl = \"https://www.googleapis.com/books/v1/volumes?\";\n      const params = {\n        q: `intitle:${keyword}`,\n        maxResults: 40,\n      };\n      const queryParams = new URLSearchParams(params);\n      console.log(baseUrl + queryParams)\n\n      //fetchでjson取得\n      const response = await fetch(baseUrl + queryParams)\n        //responseをjsonに変換\n        .then(response => response.json())\n        .then(console.log())\n        for (let book of response.items) {\n          //jsonオブジェクトのtitle,imageLinks, descriptionまでアクセス\n          let title = book.volumeInfo.title\n          let img = book.volumeInfo.imageLinks ? book.volumeInfo.imageLinks : ''\n          let description = book.volumeInfo.description\n          //必要な情報をpush, title情報なければ空を追加\n          this.saerchResults.push( {\n            title: title ? title : '',\n            image: img.thumbnail ? img.thumbnail : '',\n            //40文字以内\n            description: description ? description.slice(0, 40) : ''\n          } )\n        }\n    },\n  },\n};\n</script>"],"mappings":";;EACOA,EAAE,EAAC;AAAK;;uBAAbC,mBAAA,CAGM,OAHNC,UAGM,G,gBAFJC,mBAAA,CAAuC;IAAhCC,IAAI,EAAC,MAAM;IAFtB,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAEgCC,KAAA,CAAAC,OAAO,GAAAF,MAAA;iDAAPC,KAAA,CAAAC,OAAO,E,GACnCL,mBAAA,CAA4C;IAAnCM,OAAK,EAAAJ,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEI,QAAA,CAAAC,MAAM,CAACJ,KAAA,CAAAC,OAAO;KAAG,IAAE,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}