{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      testData: \"\"\n    };\n  },\n  props: {\n    book: {\n      type: Object,\n      required: true\n    },\n    keyword: {\n      type: String\n    },\n    searchType: {\n      type: String\n    }\n  },\n  computed: {\n    volumeInfo() {\n      return this.book.volumeInfo;\n    }\n  },\n  methods: {\n    async submitBookData() {\n      const formData = new FormData();\n      if (this.searchType == \"isbn\") {\n        formData.append(\"ISBN\", this.keyword);\n      } else {\n        formData.append(\"ISBN\", 0);\n      }\n      formData.append(\"Title\", this.book.volumeInfo.title);\n      formData.append(\"Author\", this.book.volumeInfo.authors[0]);\n      formData.append(\"Publisher\", this.book.volumeInfo.published);\n      console.log(this.keyword);\n      try {\n        const endpoint = \"/api/v2/bookdata/\";\n        await axios.post(endpoint, formData, {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\"\n          }\n        });\n        alert(\"Success!\");\n      } catch (error) {\n        console.log(error);\n        alert(\"No!\");\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","testData","props","book","type","Object","required","keyword","String","searchType","computed","volumeInfo","methods","submitBookData","formData","FormData","append","title","authors","published","console","log","endpoint","post","headers","alert","error"],"sources":["/Users/tsutsuitomoya/Documents/GitHub/BookShelves/BookShelves/frontend/src/components/BookItem.vue"],"sourcesContent":["<template>\n\t<div class=\"book-item\">\n\t\t<v-container>\n\t\t\t<v-row no-gutters>\n\t\t\t\t<v-col cols=\"4\">\n\t\t\t\t\t<div class=\"book-item-image\">\n\t\t\t\t\t\t<template v-if=\"volumeInfo.imageLinks\">\n\t\t\t\t\t\t\t<img :src=\"volumeInfo.imageLinks.thumbnail\" :alt=\"volumeInfo.title\" class=\"pic\">\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc=\"https://islandpress.org/sites/default/files/400px%20x%20600px-r01BookNotPictured.jpg\"\n\t\t\t\t\t\t\t:alt=\"volumeInfo.title\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</v-col>\n\t\t\t\t\t<v-col cols=\"8\" class=\"info\">\n\t\t\t\t\t\t<div class=\"title\">\n\t\t\t\t\t\t\t{{ volumeInfo.title }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"author\">\n\t\t\t\t\t\t\t<div v-if=\"!volumeInfo.authors\">No authors to display</div>\n\t\t\t\t\t\t\t<div v-else>著者：{{ volumeInfo.authors[0] }}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"publisher\">\n\t\t\t\t\t\t\t出版社：{{ volumeInfo.publisher }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"isbn\">\n\t\t\t\t\t\t\t<div v-for=\"(code, count) in volumeInfo.industryIdentifiers\" :key=\"count\">\n\t\t\t\t\t\t\t\t\t<div v-if=\"code.type='ISBN_13'\">\n\t\t\t\t\t\t\t\t\t\t\tISBN:{{ code.identifier }}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"void\"></div>\n\t\t\t\t\t\t<div class=\"submit-button\">\n\t\t\t\t\t\t\t<v-btn v-on:click=\"submitBookData()\" variant=\"tonal\" color=\"#E07A5F\">登録する</v-btn>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</v-col>\n\t\t\t</v-row>\n\t\t</v-container>\n\t\t<div>{{ testData }}</div>\n\t</div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n\tdata(){\n\t\treturn {\n\t\t\ttestData: \"\",\n\t\t}\n\t},\n\tprops: {\n\t\tbook: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\tkeyword: {\n\t\t\ttype: String\n\t\t},\n\t\tsearchType: {\n\t\t\ttype: String\n\t\t}\n\t},\n\tcomputed: {\n\t\tvolumeInfo(){\n\t\t\treturn this.book.volumeInfo;\n\t\t}\n\t},\n\tmethods: {\n\t\tasync submitBookData(){\n\t\t\tconst formData = new FormData();\n\t\t\tif(this.searchType==\"isbn\"){\n\t\t\t\t\tformData.append(\"ISBN\", this.keyword);\n\t\t\t} else{\n\t\t\t\t\t\tformData.append(\"ISBN\", 0);\n\t\t\t}\n\t\t\t\tformData.append(\"Title\", this.book.volumeInfo.title);\n\t\t\t\tformData.append(\"Author\", this.book.volumeInfo.authors[0]);\n\t\t\t\tformData.append(\"Publisher\", this.book.volumeInfo.published);\n\t\t\t\tconsole.log(this.keyword);\n\t\t\t\ttry {\n\t\t\t\t\t\tconst endpoint = \"/api/v2/bookdata/\";\n\t\t\t\t\t\tawait axios.post(endpoint, formData, {\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t\"Content-Type\": \"multipart/form-data\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t\talert(\"Success!\");\n\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\talert(\"No!\");\n\t\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\n.book-item{\n    margin-bottom: 10px;\n    margin-left: 10px;\n    background-color: #FFF;\n    /* height:200px; */\n    text-align:left;\n    width:40vw;\n    border-radius: 10px;\n}\n/* .book-item-table{\n    display: flex;\n    vertical-align: middle;\n    height:125px;\n} */\n.book-item-image{\n    /* width:10%; */\n    height: 100%;\n    /* padding-top:5px;\n    padding-bottom:10px; */\n    width:100%;\n    /* background-color: aqua; */\n}\n.pic{\n    height:100%;\n}\n.info{\n    /* background-color: aqua; */\n    position: relative;\n}\n.title{\n    height:25%;\n    font-size: 18px;\n    font-weight: bold;\n}\n.author{\n    height:15%;\n}\n.publisher{\n    height:15%;\n}\n.isbn{\n    height:15%;\n}\n.void{\n}\n.submit-button{\n    position: absolute;\n\tbottom: 0;\n}\n</style>\n"],"mappings":"AA+CA,OAAOA,KAAI,MAAO,OAAM;AAExB,eAAe;EACdC,IAAIA,CAAA,EAAE;IACL,OAAO;MACNC,QAAQ,EAAE;IACX;EACD,CAAC;EACDC,KAAK,EAAE;IACNC,IAAI,EAAE;MACLC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACX,CAAC;IACDC,OAAO,EAAE;MACRH,IAAI,EAAEI;IACP,CAAC;IACDC,UAAU,EAAE;MACXL,IAAI,EAAEI;IACP;EACD,CAAC;EACDE,QAAQ,EAAE;IACTC,UAAUA,CAAA,EAAE;MACX,OAAO,IAAI,CAACR,IAAI,CAACQ,UAAU;IAC5B;EACD,CAAC;EACDC,OAAO,EAAE;IACR,MAAMC,cAAcA,CAAA,EAAE;MACrB,MAAMC,QAAO,GAAI,IAAIC,QAAQ,CAAC,CAAC;MAC/B,IAAG,IAAI,CAACN,UAAU,IAAE,MAAM,EAAC;QACzBK,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAACT,OAAO,CAAC;MACvC,OAAM;QACHO,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC;MAC7B;MACCF,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAACb,IAAI,CAACQ,UAAU,CAACM,KAAK,CAAC;MACpDH,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAE,IAAI,CAACb,IAAI,CAACQ,UAAU,CAACO,OAAO,CAAC,CAAC,CAAC,CAAC;MAC1DJ,QAAQ,CAACE,MAAM,CAAC,WAAW,EAAE,IAAI,CAACb,IAAI,CAACQ,UAAU,CAACQ,SAAS,CAAC;MAC5DC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACd,OAAO,CAAC;MACzB,IAAI;QACF,MAAMe,QAAO,GAAI,mBAAmB;QACpC,MAAMvB,KAAK,CAACwB,IAAI,CAACD,QAAQ,EAAER,QAAQ,EAAE;UACrCU,OAAO,EAAE;YACP,cAAc,EAAE;UAClB;QACA,CAAC,CAAC;QACFC,KAAK,CAAC,UAAU,CAAC;MACnB,EAAE,OAAOC,KAAK,EAAE;QACdN,OAAO,CAACC,GAAG,CAACK,KAAK,CAAC;QAClBD,KAAK,CAAC,KAAK,CAAC;MACd;IACF;EACD;AACD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}