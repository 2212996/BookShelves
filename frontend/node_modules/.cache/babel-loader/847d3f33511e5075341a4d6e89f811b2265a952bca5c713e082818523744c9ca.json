{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      headers: [{\n        title: 'ID',\n        value: 'id',\n        width: '10%'\n      }, {\n        title: 'ISBN',\n        value: 'isbn'\n      }, {\n        title: 'Title',\n        value: 'title'\n      }, {\n        title: 'Author',\n        value: 'author'\n      }, {\n        title: 'Publisher',\n        value: 'publisher'\n      }, {\n        title: 'Action',\n        value: 'delete',\n        sotrable: false\n      }],\n      serverDatas: [],\n      test: \"\",\n      items: [],\n      testtt: \"\"\n    };\n  },\n  mounted() {\n    axios.get('/api/v2/bookdata/').then(res => {\n      this.serverDatas = res.data;\n      this.test = res.data[0].id;\n      this.testtt = toString.call(res.data[0]);\n      // this.serverDatas = JSON.parse(this.response);\n      // const jsonData = JSON.parse(res.data);\n\n      const items = [];\n      const values = res.data;\n      values.forEach(value => {\n        const item = {\n          id: value.id\n        };\n        items.push(JSON.stringify(item));\n      });\n      this.items = items;\n    }).catch(e => {\n      console.log(e);\n    }).finally(() => {\n      console.log(\"通信完了\");\n    });\n  },\n  name: 'ShowDataBase',\n  methods: {\n    // getArticles: async function()  {\n    //     const endpoint = \"/api/v2/bookdata/\";\n    //     this.response = await axios.get(endpoint);\n    //     this.serverDatas = this.response.data;\n    // },\n    async deleteItem(id) {\n      const endpoint = \"/api/v2/bookdata/\" + id;\n      await axios.delete(endpoint).then(() => {\n        this.getArticles();\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","data","headers","title","value","width","sotrable","serverDatas","test","items","testtt","mounted","get","then","res","id","toString","call","values","forEach","item","push","JSON","stringify","catch","e","console","log","finally","name","methods","deleteItem","endpoint","delete","getArticles","err"],"sources":["/Users/tsutsuitomoya/Documents/GitHub/BookShelves/BookShelves/frontend/src/components/testTwo.vue"],"sourcesContent":["<template>\n    <div class=\"area\">\n        <div class=\"contents\">\n            <div class=\"database-title\">データベース</div>\n            <div class=\"database-table\">\n                <v-container>\n                    <v-row>\n                        <v-col cols=\"12\">\n                            <v-data-table\n                            :headers=\"headers\"\n                            :items=\"serverDatas\"\n                            >\n                            <template v-slot:[`item.delete`]=\"{ item }\">\n                                <v-btn\n                                    small\n                                    color=\"#81B29A\"\n                                    @click=\"deleteItem(item.id)\"\n                                    class=\"edit\"\n                                >\n                                    編集する\n                                </v-btn>\n                                <v-btn\n                                    small\n                                    color=\"#E07A5F\"\n                                    @click=\"deleteItem(item.id)\"\n                                >\n                                    削除する\n                                </v-btn>\n                            </template>\n                            <!-- <template v-slot:item=\"{item}\">\n                                <td class=\"text-xs-center\">{{ item.id }}</td>\n                                <td class=\"text-xs-center\">{{ item.isbn }}</td>\n                                <td class=\"text-xs-center\">{{ item.title }}</td>\n                                <td class=\"text-xs-center\">{{ item.author }}</td>\n                                <td class=\"text-xs-center\">{{ item.publisher }}</td>\n                                <v-btn\n                                    small\n                                    color=\"error\"\n                                    @click=\"deleteItem(item.id)\"\n                                >\n                                    delete\n                                </v-btn>\n                            </template> -->\n                            </v-data-table>\n                        </v-col>\n                    </v-row>\n                </v-container>\n            </div>\n        </div>\n        <!-- {{ this.serverDatas[0] }} -->\n        <!-- {{ this.test }}\n        {{ this.testtt }}\n        {{ this.items[0] }} -->\n    </div>\n</template>\n<script>\nimport axios from 'axios'\n\nexport default {\n  data(){\n    return {\n      headers: [\n          { \n            title: 'ID', value: 'id', width: '10%'\n          },\n          {\n            title: 'ISBN', value: 'isbn',\n          },\n          { \n            title: 'Title', value: 'title' \n          },\n          { \n            title: 'Author', value: 'author' \n          },\n          { \n            title: 'Publisher', value: 'publisher' \n          },\n          { \n            title: 'Action', value: 'delete',\n            sotrable:false \n          },\n        ],\n        serverDatas:[],\n        test:\"\",\n        items:[],\n        testtt:\"\"\n    }\n  },\n  mounted() {\n    axios.get('/api/v2/bookdata/')\n        .then( res => {\n            this.serverDatas = res.data;\n            this.test = res.data[0].id;\n            this.testtt = toString.call(res.data[0]);\n            // this.serverDatas = JSON.parse(this.response);\n            // const jsonData = JSON.parse(res.data);\n\n            const items = [];\n            const values = res.data;\n            values.forEach((value) => {\n            const item = {\n                id: value.id,\n            };\n            items.push(JSON.stringify(item))\n            });\n            this.items = items;\n        })\n        .catch( e => {\n          console.log(e)\n        })\n        .finally(()=>{\n          console.log(\"通信完了\")\n        })\n    },\n    name: 'ShowDataBase',\n    methods:{\n        // getArticles: async function()  {\n        //     const endpoint = \"/api/v2/bookdata/\";\n        //     this.response = await axios.get(endpoint);\n        //     this.serverDatas = this.response.data;\n        // },\n        async deleteItem(id){\n            const endpoint = \"/api/v2/bookdata/\"+id;\n            await axios.delete(endpoint)\n            .then(() => {\n                this.getArticles();\n            })\n            .catch((err) => {\n            console.log(err);\n            });\n        }\n    }\n}\n</script>\n\n<style>\n.area{\n  width: 100%;\n  background-color: #F4F5F7;\n  padding-bottom: 10vh;\n}\n.contents{\n  width: 85%;\n  margin:auto;\n}\n.database-title{\n  text-align: left;\n  font-weight: bold;\n  padding-top:30px;\n  padding-bottom:30px;\n  color:#4F5272;\n  font-size: 20px;\n}\n.database-table{\n    width:100%;\n    /* background-color: aqua; */\n}\n.edit{\n    margin-right: 10px;\n}\n</style>"],"mappings":";AAwDA,OAAOA,KAAI,MAAO,OAAM;AAExB,eAAe;EACbC,IAAIA,CAAA,EAAE;IACJ,OAAO;MACLC,OAAO,EAAE,CACL;QACEC,KAAK,EAAE,IAAI;QAAEC,KAAK,EAAE,IAAI;QAAEC,KAAK,EAAE;MACnC,CAAC,EACD;QACEF,KAAK,EAAE,MAAM;QAAEC,KAAK,EAAE;MACxB,CAAC,EACD;QACED,KAAK,EAAE,OAAO;QAAEC,KAAK,EAAE;MACzB,CAAC,EACD;QACED,KAAK,EAAE,QAAQ;QAAEC,KAAK,EAAE;MAC1B,CAAC,EACD;QACED,KAAK,EAAE,WAAW;QAAEC,KAAK,EAAE;MAC7B,CAAC,EACD;QACED,KAAK,EAAE,QAAQ;QAAEC,KAAK,EAAE,QAAQ;QAChCE,QAAQ,EAAC;MACX,CAAC,CACF;MACDC,WAAW,EAAC,EAAE;MACdC,IAAI,EAAC,EAAE;MACPC,KAAK,EAAC,EAAE;MACRC,MAAM,EAAC;IACX;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACRX,KAAK,CAACY,GAAG,CAAC,mBAAmB,EACxBC,IAAI,CAAEC,GAAE,IAAK;MACV,IAAI,CAACP,WAAU,GAAIO,GAAG,CAACb,IAAI;MAC3B,IAAI,CAACO,IAAG,GAAIM,GAAG,CAACb,IAAI,CAAC,CAAC,CAAC,CAACc,EAAE;MAC1B,IAAI,CAACL,MAAK,GAAIM,QAAQ,CAACC,IAAI,CAACH,GAAG,CAACb,IAAI,CAAC,CAAC,CAAC,CAAC;MACxC;MACA;;MAEA,MAAMQ,KAAI,GAAI,EAAE;MAChB,MAAMS,MAAK,GAAIJ,GAAG,CAACb,IAAI;MACvBiB,MAAM,CAACC,OAAO,CAAEf,KAAK,IAAK;QAC1B,MAAMgB,IAAG,GAAI;UACTL,EAAE,EAAEX,KAAK,CAACW;QACd,CAAC;QACDN,KAAK,CAACY,IAAI,CAACC,IAAI,CAACC,SAAS,CAACH,IAAI,CAAC;MAC/B,CAAC,CAAC;MACF,IAAI,CAACX,KAAI,GAAIA,KAAK;IACtB,CAAC,EACAe,KAAK,CAAEC,CAAA,IAAK;MACXC,OAAO,CAACC,GAAG,CAACF,CAAC;IACf,CAAC,EACAG,OAAO,CAAC,MAAI;MACXF,OAAO,CAACC,GAAG,CAAC,MAAM;IACpB,CAAC;EACL,CAAC;EACDE,IAAI,EAAE,cAAc;EACpBC,OAAO,EAAC;IACJ;IACA;IACA;IACA;IACA;IACA,MAAMC,UAAUA,CAAChB,EAAE,EAAC;MAChB,MAAMiB,QAAO,GAAI,mBAAmB,GAACjB,EAAE;MACvC,MAAMf,KAAK,CAACiC,MAAM,CAACD,QAAQ,EAC1BnB,IAAI,CAAC,MAAM;QACR,IAAI,CAACqB,WAAW,CAAC,CAAC;MACtB,CAAC,EACAV,KAAK,CAAEW,GAAG,IAAK;QAChBT,OAAO,CAACC,GAAG,CAACQ,GAAG,CAAC;MAChB,CAAC,CAAC;IACN;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}