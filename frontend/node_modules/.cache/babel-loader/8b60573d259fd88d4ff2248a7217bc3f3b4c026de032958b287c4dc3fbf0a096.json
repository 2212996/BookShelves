{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      testData: \"\"\n    };\n  },\n  props: {\n    book: {\n      type: Object,\n      required: true\n    },\n    keyword: {\n      type: String\n    }\n  },\n  computed: {\n    volumeInfo() {\n      return this.book.volumeInfo;\n    }\n  },\n  methods: {\n    async submitBookData() {\n      // this.testData = this.book.volumeInfo.title;\n      const formData = new FormData();\n      formData.append(\"ISBN\", this.keyword);\n      formData.append(\"Title\", this.book.volumeInfo.title);\n      formData.append(\"Author\", this.book.volumeInfo.authors[0]);\n      formData.append(\"Publisher\", this.book.volumeInfo.published);\n      console.log(this.keyword);\n      try {\n        const endpoint = \"/api/v2/bookdata/\";\n        await axios.post(endpoint, formData, {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\"\n          }\n        });\n        alert(\"Success!\");\n      } catch (error) {\n        console.log(error);\n        alert(\"No!\");\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","testData","props","book","type","Object","required","keyword","String","computed","volumeInfo","methods","submitBookData","formData","FormData","append","title","authors","published","console","log","endpoint","post","headers","alert","error"],"sources":["/Users/tsutsuitomoya/Documents/GitHub/BookShelves/BookShelves/frontend/src/components/BookItem.vue"],"sourcesContent":["<template>\n    <div class=\"book-item\">\n        <v-container>\n            <v-row>\n                <v-col cols=\"4\">\n                    <div class=\"book-item-image\">\n                        <template v-if=\"volumeInfo.imageLinks\">\n                            <img :src=\"volumeInfo.imageLinks.thumbnail\" :alt=\"volumeInfo.title\" height=\"200\">\n                        </template>\n                        <template v-else>\n                            <img\n                            src=\"https://islandpress.org/sites/default/files/400px%20x%20600px-r01BookNotPictured.jpg\"\n                            :alt=\"volumeInfo.title\"\n                            height=\"200\"\n                            >\n                        </template>\n                    </div>\n                </v-col>\n                <v-col cols=\"8\">\n                    <div class=\"title\">\n                        {{ volumeInfo.title }}\n                    </div>\n                    <div class=\"author\">\n                        <span v-if=\"!volumeInfo.authors\">No authors to display</span>\n                        <span v-else>\n                            <span v-for=\"(author, authorindex) in volumeInfo.authors\" :key=\"authorindex\">\n                                <em>\n                                {{\n                                index + 1 !== volumeInfo.authors.length && authorindex + 1 !== book.volumeInfo.authors.length-1 ? author + ', ' : authorindex + 1 == book.volumeInfo.authors.length && authorindex+1 !== 1 ? ' and ' + author : author\n                                }}\n                                </em>\n                            </span>\n                        </span>\n                    </div>\n                    <div class=\"publisher\">\n                        {{ volumeInfo.publisher }}\n                    </div>\n                    <div class=\"submit-button\">\n                        <div class=\"inner\">\n                            <button v-on:click=\"submitBookData()\" class=\"button\">登録する</button>\n                        </div>\n                    </div>\n                </v-col>\n            </v-row>\n        </v-container>\n        <!-- <div class=\"book-item-table\">\n            <div class=\"book-item-image\">\n                <template v-if=\"volumeInfo.imageLinks\">\n                    <img :src=\"volumeInfo.imageLinks.thumbnail\" :alt=\"volumeInfo.title\" height=\"100\">\n                </template>\n                <template v-else>\n                    <img\n                    src=\"https://islandpress.org/sites/default/files/400px%20x%20600px-r01BookNotPictured.jpg\"\n                    :alt=\"volumeInfo.title\"\n                    height=\"100\"\n                    >\n                </template>\n            </div>\n            <div class=\"title\">\n                <div class=\"inner\">\n                    {{ volumeInfo.title }}\n                </div>\n            </div>\n            <div class=\"author\">\n                <div class=\"inner\">\n                    <span v-if=\"!volumeInfo.authors\">No authors to display</span>\n                    <span v-else>\n                        <span v-for=\"(author, authorindex) in volumeInfo.authors\" :key=\"authorindex\">\n                            <em>\n                            {{\n                            index + 1 !== volumeInfo.authors.length && authorindex + 1 !== book.volumeInfo.authors.length-1 ? author + ', ' : authorindex + 1 == book.volumeInfo.authors.length && authorindex+1 !== 1 ? ' and ' + author : author\n                            }}\n                            </em>\n                        </span>\n                    </span>\n                </div>\n            </div>\n            <div class=\"publisher\">\n                <div class=\"inner\">{{ volumeInfo.publisher }}</div>\n            </div>\n            <div class=\"submit-button\">\n                <div class=\"inner\">\n                    <button v-on:click=\"submitBookData()\" class=\"button\">登録する</button>\n                </div>\n            </div>\n        </div> -->\n        <!-- <a :href=\"volumeInfo.previewLink\" target=\"_blank\"> -->\n\n        <!-- <p>{{ keyword }}</p> -->\n\n        <!-- <h4>{{ volumeInfo.title }}</h4> -->\n\n        <!-- <p class=\"author\">\n            <span v-if=\"!volumeInfo.authors\">No authors to display</span>\n            <span v-else>\n            By\n            <span v-for=\"(author, index) in volumeInfo.authors\" :key=\"index\">\n                <em>\n                {{\n                index + 1 !== volumeInfo.authors.length && index + 1 !== book.volumeInfo.authors.length-1 ? author + ', ' : index + 1 == book.volumeInfo.authors.length && index+1 !== 1 ? ' and ' + author : author\n                }}\n                </em>\n            </span>\n            </span>\n        </p> -->\n\n        <!-- <p class=\"publisher\">{{ volumeInfo.publisher }}</p> -->\n\n        <!-- </a> -->\n\n        <!-- <button v-on:click=\"submitBookData()\" class=\"button\">登録する</button> -->\n        <div>{{ testData }}</div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\ndata(){\n    return {\n        testData: \"\",\n    }\n},\nprops: {\n    book: {\n        type: Object,\n        required: true\n    },\n    keyword: {\n        type: String\n    }\n},\ncomputed: {\n    volumeInfo(){\n    return this.book.volumeInfo;\n    }\n},\nmethods: {\n    async submitBookData(){\n        // this.testData = this.book.volumeInfo.title;\n        const formData = new FormData();\n        formData.append(\"ISBN\", this.keyword);\n        formData.append(\"Title\", this.book.volumeInfo.title);\n        formData.append(\"Author\", this.book.volumeInfo.authors[0]);\n        formData.append(\"Publisher\", this.book.volumeInfo.published);\n        console.log(this.keyword);\n        try {\n            const endpoint = \"/api/v2/bookdata/\";\n            await axios.post(endpoint, formData, {\n            headers: {\n                \"Content-Type\": \"multipart/form-data\",\n            },\n            });\n            alert(\"Success!\");\n        } catch (error) {\n            console.log(error);\n            alert(\"No!\");\n        }\n    }\n}\n}\n</script>\n\n<style scoped>\n.book-item{\n    margin-bottom: 5px;\n    margin-left: 5px;\n    background-color: #FFF;\n    height:250px;\n}\n.book-item-table{\n    display: flex;\n    vertical-align: middle;\n    height:125px;\n}\n.book-item-image{\n    /* width:10%; */\n    height: 100%;\n    padding-top:12.5px;\n    padding-bottom:12.5px;\n}\n.title{\n    /* width:27.5%;\n    height: 100%;\n    display: table; */\n}\n.inner{\n    display: table-cell;\n    vertical-align: middle;\n}\n.author{\n    /* width:25%;\n    height: 100%;\n    display: table; */\n}\n.publisher{\n    width:25%;\n    height: 100%;\n    display: table;\n}\n.submit-button{\n    width:10%;\n    height: 100%;\n    display: table;\n}\n/* ul {\npadding: 0;\n}\n\nul li {\ndisplay: inline-block;\n}\n\nul li:first-child {\nlist-style: none;\n}\n.author {\nfont-size: 14px;\n}\n\n.button {\n  border: 0;\n  padding: 0 10px;\n  margin: 0;\n  background: #B22D35;\n  color: white;\n  box-shadow: 0 0 0 transparent;\n\n  height: 30px;\n  vertical-align: top;\n} */\n</style>\n"],"mappings":"AAoHA,OAAOA,KAAI,MAAO,OAAM;AAExB,eAAe;EACfC,IAAIA,CAAA,EAAE;IACF,OAAO;MACHC,QAAQ,EAAE;IACd;EACJ,CAAC;EACDC,KAAK,EAAE;IACHC,IAAI,EAAE;MACFC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACd,CAAC;IACDC,OAAO,EAAE;MACLH,IAAI,EAAEI;IACV;EACJ,CAAC;EACDC,QAAQ,EAAE;IACNC,UAAUA,CAAA,EAAE;MACZ,OAAO,IAAI,CAACP,IAAI,CAACO,UAAU;IAC3B;EACJ,CAAC;EACDC,OAAO,EAAE;IACL,MAAMC,cAAcA,CAAA,EAAE;MAClB;MACA,MAAMC,QAAO,GAAI,IAAIC,QAAQ,CAAC,CAAC;MAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAACR,OAAO,CAAC;MACrCM,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAACZ,IAAI,CAACO,UAAU,CAACM,KAAK,CAAC;MACpDH,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAE,IAAI,CAACZ,IAAI,CAACO,UAAU,CAACO,OAAO,CAAC,CAAC,CAAC,CAAC;MAC1DJ,QAAQ,CAACE,MAAM,CAAC,WAAW,EAAE,IAAI,CAACZ,IAAI,CAACO,UAAU,CAACQ,SAAS,CAAC;MAC5DC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACb,OAAO,CAAC;MACzB,IAAI;QACA,MAAMc,QAAO,GAAI,mBAAmB;QACpC,MAAMtB,KAAK,CAACuB,IAAI,CAACD,QAAQ,EAAER,QAAQ,EAAE;UACrCU,OAAO,EAAE;YACL,cAAc,EAAE;UACpB;QACA,CAAC,CAAC;QACFC,KAAK,CAAC,UAAU,CAAC;MACrB,EAAE,OAAOC,KAAK,EAAE;QACZN,OAAO,CAACC,GAAG,CAACK,KAAK,CAAC;QAClBD,KAAK,CAAC,KAAK,CAAC;MAChB;IACJ;EACJ;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}